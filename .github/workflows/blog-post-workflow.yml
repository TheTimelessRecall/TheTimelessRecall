name: Latest Blog Post Workflow
on:
  schedule:
    - cron: '0 */12 * * *'
  workflow_dispatch:

jobs:
  update-readme-with-blog:
    name: Update README with latest blog posts
    runs-on: ubuntu-latest
    permissions:
      contents: write 
    steps:
      - uses: actions/checkout@v3

      - uses: gautamkrishnar/blog-post-workflow@v1
        with:
          feed_list: "https://medium.com/feed/@TimelessRecall"
          max_post_count: 3
          date_format: "MMMM D, YYYY"
          template: |
            <table>
              <tr>
                <td width="150px">
                  <a href="${url}" target="_blank">
                    <img width="150px" src="https://raw.githubusercontent.com/TheTimelessRecall/TheTimelessRecall/main/assets/default-blog-thumb.png" alt="Blog thumbnail"/>
                  </a>
                </td>
                <td valign="top">
                  <a href="${url}" target="_blank"><h3>${title}</h3></a>
                  <i>${date}</i>
                </td>
              </tr>
            </table>
            <br>
